include('auto');

init()

var enemy = Fight.getEntity(getNearestEnemy());

var combo = AI.getPotentialCombo()
if(combo && count(combo.actions)>0) combo.play()
else {
	debugE('/!\ turn '+getTurn()+' Combo null or empty ! SHOULD NOT BE HERE !')
}

// cast avec le reste des TP
function failSafe(){
	var tpleft = getTP()
	//Items.getItem(CHIP_MOTIVATION).useItem(Fight.self)
	if(getAbsoluteShield(Fight.self)<=0) Items.getItem(CHIP_SHIELD).useItem(Fight.self)
	if(getAbsoluteShield(Fight.self)<=0) Items.getItem(CHIP_HELMET).useItem(Fight.self)
	if(Fight.self.lifeMissing>0){
		Items.getItem(CHIP_CURE).useItem(Fight.self)
		Items.getItem(CHIP_BANDAGE).useItem(Fight.self)
	}
	Items.getItem(CHIP_PROTEIN).useItem(Fight.self)
	//if(getRelativeShield(Fight.self)<=0) Items.getItem(CHIP_WALL).useItem(Fight.self)
	var tpused = tpleft-getTP()
	if(tpused>0) debugE('/!\ turn '+getTurn()+" failSafe TP used: "+tpused)
}
failSafe()

Benchmark.display()
